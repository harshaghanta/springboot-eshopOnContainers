{{- $protocol := include "protocol" . -}}
kind: ConfigMap
apiVersion: v1
metadata:
  name: "cfg-{{ include "webspa.fullname" . }}"
  labels:
    app: {{ template "webspa.name" . }}
    chart: {{ template "webspa.chart" . }}
    release: {{ .Release.Name }}
    heritage: {{ .Release.Service }}
data:
  application.yml: |
    config-data:
      identityUrl: {{$protocol}}://{{ .Values.authDomainName}}/keycloak/realms/eshoponcontainers/protocol
      basketUrl: "http://host.docker.internal:8083"
      marketingUrl: null
      purchaseUrl: {{$protocol}}://{{ .Values.domainName}}/webshoppingapigw
      signalrHubUrl: "http://host.docker.internal:8090"
      activateCampaignDetailFunction: "False"
      useCustomizationData: true